plugins {
  id 'com.github.johnrengelman.shadow' version '1.2.4'
}

dependencies {
    compileApi 'org.javassist:javassist:3.19+'

	//this config applies to both jar and shadowJar
	jar {
        manifest {
            attributes( 
                "Agent-Class": "com.netflix.hystrix.contrib.networkauditor.HystrixNetworkAuditorAgent", 
                "Can-Redefine-Classes": true, 
                "Can-Retransform-Classes": true, 
                "Boot-Class-Path": "hystrix-network-auditor-agent-" + version + ".jar",
                "Premain-Class": "com.netflix.hystrix.contrib.networkauditor.HystrixNetworkAuditorAgent")
        }
	}
}
